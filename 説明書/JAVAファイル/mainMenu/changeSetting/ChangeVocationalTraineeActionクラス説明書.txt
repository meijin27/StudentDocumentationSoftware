ChangeVocationalTraineeAction クラスに関する説明書

1. 概要
このクラスは、ユーザーの職業訓練生情報（PESOの名前、支給番号、出席番号、雇用保険の情報など）の変更アクションを定義しています。入力された情報に関するバリデーション後、ユーザーデータベースを更新します。

2. 主要な処理ステップ:
① セッションの確認
② 入力値の取得とリクエストへの格納
③ 入力値のバリデーション
④ 出席番号のフォーマット確認
⑤ データベースの職業訓練生情報更新
⑥ 操作ログの追加

3. 詳細:
① セッションの確認: セッションからIDとmaster_keyが存在しない場合、エラーメッセージをセットし、ログインページにリダイレクトします。
② 入力値の取得とリクエストへの格納: リクエストからPESOの名前、支給番号、出席番号、雇用保険の情報を取得し、それらの入力された値をリクエストに格納します。
③ 入力値のバリデーション:
	・すべての入力項目が完全に入力されているか確認します。
	・雇用保険が「有」の場合は支給番号を記載する必要があり、その確認を行います。
	・雇用保険が「無」の場合、支給番号は特定の文字列に設定されます。
④ 出席番号のフォーマット確認: 出席番号が半角2桁以下の数字であるか確認します。
⑤ データベースの職業訓練生情報更新: 復号や暗号化処理を行った後、ユーザーの職業訓練生情報をデータベースで更新します。
⑥ 操作ログの追加: ユーザーIDを元にデータベースの操作ログに「Change Vocational Trainee Setting」という操作を追加します。

4. 例外処理:
データベースへのアクセスや暗号化処理中に例外が発生した場合、エラーメッセージをログに記録し、エラーメッセージをリクエストにセットして、元のページに戻ります。

5. 終了処理:
すべての処理が正常に終了した場合、成功メッセージをセットして、成功画面に遷移します。